<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Document</title>
    <script src="https://cdn.jsdelivr.net/gh/openlayers/openlayers.github.io@master/en/v6.14.1/build/ol.js"></script>
     <script>
        /*
            지도 위의 임의지점 클릭 시 아이콘 생성
        */
        function initMap(){
            var baseMap = new ol.layer.Tile({
                source : new ol.source.XYZ({
                    url : 'http://api.vworld.kr/req/wmts/1.0.0/B75E7BD9-EA11-3C9A-AAEE-2FFDB86C124E/Base/{z}/{y}/{x}.png'
                })
            });
            var olView = new ol.View({
                center : [14126669.41589247, 4493404.190498611],
                zoom : 11
            });
            var map = new ol.Map({
                target : 'map',
                layers : [baseMap],
                view : olView
            });
            /* 팝업 옵션 설정 */
            // var overlay = new ol.Overlay({
            //     element : document.getElementById("popup"),
            // });
            var lon;
            var lat;
            /* 지도 클릭 이벤트 */
            map.addEventListener("click", function(evt){
                /* 지도 클릭 시 좌표값 구하기 */
                var coordinate = evt.coordinate;
                lon = coordinate[0];
                lat = coordinate[1];
                addIcon(lon, lat);
            });
            /* 마커(아이콘) 생성 */
            function addIcon(lon, lat){
                var iconFeature = new ol.Feature({
                    geometry : new ol.geom.Point([lon, lat])
                });
                var iconStyle = new ol.style.Style({
                    image: new ol.style.Icon({
                        anchor: [0.5, 46],
                        anchorXUnits: 'fraction',
                        anchorYUnits: 'pixels',
                        src: 'https://openlayers.org/en/v3.20.1/examples/data/icon.png'
                    })
                });
                /*마커 레이어에 들어갈 소스 생성  */
                var iconSource = new ol.source.Vector({
                    features : [iconFeature]
                });
                var iconLayer = new ol.layer.Vector({
                    source : iconSource,
                    style : iconStyle,
                    name : 'test'
                });
                map.addLayer(iconLayer);
                overlay.setPosition([lon, lat]);
            }
        }
    </script>
</head>
<body onload="initMap()">
    <div id="map" style="width:100%;height:700px;left:0px;top:0px">
        <div id="popup"></div>
    </div>
</body>
</html>
(3kB)
https://openlayers.org/en/v3.20.1/examples/data/icon.png

흰색_확인_표시
두_눈
두_손을_들고_있는_사람
반응
회신












안희선에 메시지 보내기








